function k(a){throw a;}var l=void 0,p=!0,q=null,s=!1;function t(){return function(a){return a}}function aa(){return function(){}}
var u=this,v=aa(),ba=t(),ca=function(){return(new Date).getTime()},da=function(a,b){return a===b},fa=function(a,b){return a-b},ga=function(a){return a.toString()},ha=function(a){k(a)},w=function(){this.h&&k(Error(ia))},ja=function(a){return 1===a.length&&Array.isArray(a[0])?a[0]:x.call(a)},ka=function(a,b){for(var c=Array(a),d=0;d<a;d++)c[d]=b();return c},la=function(a,b){this.M=a;this.g=b;this.h=s},ma=function(a,b,c,d,e){this.M=a;this.state=b;this.action=c;this.v=d;this.t=e||fa;this.g=new z},na=
function(a,b){var c=this;return new A(function(d){var e=0,f=a.length;return c.d(function(c){if(e<f){var h=a[e++],j;try{j=b(c,h)}catch(n){d.a(n);return}d.c(j)}else d.b()},d.a.bind(d),d.b.bind(d))})},oa="object"==typeof exports&&exports&&("object"==typeof global&&global&&global==global.global&&(u=global),exports),D={r:{}},ia="Object has been disposed";
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){if(this instanceof b){var e=aa();e.prototype=c.prototype;var e=new e,f=c.apply(e,d.concat(x.call(arguments)));return Object(f)===f?f:e}return c.apply(a,d.concat(x.call(arguments)))}var c=this,d=x.call(arguments,1);return b});
var x=Array.prototype.slice,qa={}.hasOwnProperty,E=D.r.yc=function(a,b){function c(){this.constructor=a}for(var d in b)"prototype"!==d&&qa.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.j=b.prototype;return a},F=D.r.Vb=function(a){for(var b=x.call(arguments,1),c=0,d=b.length;c<d;c++){var e=b[c],f;for(f in e)a[f]=e[f]}},ra=D.r.eb=function(a,b){return new A(function(c){return new I(b.D(),a.d(c))})};
Array.prototype.every||(Array.prototype.every=function(a,b){for(var c=Object(this),d=0,e=c.length>>>0;d<e;d++)if(d in c&&!a.call(b,c[d],d,c))return s;return p});Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=e.length>>>0,d=Array(c),e=Object(this),f=0;f<c;f++)f in e&&d.push(a.call(b,e[f],f,e));return d});Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c=[],d,e=Object(this),f=0,g=e.length>>>0;f<g;f++)d=e[f],f in e&&a.call(b,d,f,e)&&c.push(d);return c});
Array.isArray||(Array.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)});Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;1<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&(Infinity!=d&&-Infinity!=d)&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in b&&b[d]===searchElement)return d;return-1});
var sa=function(a,b){this.id=a;this.value=b};sa.prototype.da=function(a){var b=this.value.da(a.value);0===b&&(b=this.id-a.id);return b};var ta=function(a){this.k=Array(a);this.length=0},K=ta.prototype;K.ja=function(a,b){return 0>this.k[a].da(this.k[b])};K.Ga=function(a){if(!(a>=this.length||0>a)){var b=a-1>>1;if(!(0>b||b===a)&&this.ja(a,b)){var c=this.k[a];this.k[a]=this.k[b];this.k[b]=c;this.Ga(b)}}};
K.Aa=function(a){a===l&&(a=0);if(!(a>=this.length||0>a)){var b=2*a+1,c=2*a+2,d=a;b<this.length&&this.ja(b,d)&&(d=b);c<this.length&&this.ja(c,d)&&(d=c);d!==a&&(b=this.k[a],this.k[a]=this.k[d],this.k[d]=b,this.Aa(d))}};K.Fa=function(){return this.k[0].value};K.Ia=function(a){this.k[a]=this.k[--this.length];delete this.k[this.length];this.Aa()};K.ua=function(){var a=this.Fa();this.Ia(0);return a};K.ea=function(a){var b=this.length++;this.k[b]=new sa(ta.count++,a);this.Ga(b)};
K.remove=function(a){for(var b=0;b<this.length;b++)if(this.k[b].value===a)return this.Ia(b),p;return s};ta.count=0;var I=D.Qa=function(){this.A=ja(arguments);this.h=s;this.length=this.A.length};I.prototype.add=function(a){this.h?a.e():(this.A.push(a),this.length++)};I.prototype.remove=function(a){var b=s;if(!this.h){var c=this.A.indexOf(a);-1!==c&&(b=p,this.A.splice(c,1),this.length--,a.e())}return b};
I.prototype.e=function(){if(!this.h){this.h=p;var a=this.A.slice(0);this.A=[];for(var b=this.length=0,c=a.length;b<c;b++)a[b].e()}};I.prototype.T=function(){return this.A.slice(0)};var ua=D.Ob=function(a){this.h=s;this.action=a};ua.prototype.e=function(){this.h||(this.action(),this.h=p)};var va=ua.create=function(a){return new ua(a)},L=ua.empty={e:v},z=D.Ta=function(){this.h=s;this.p=q};z.prototype.g=function(a){return!a?this.D():this.f(a)};z.prototype.D=function(){return this.p};
z.prototype.f=function(a){this.p&&k(Error("Disposable has already been assigned"));var b=this.h;b||(this.p=a);b&&a&&a.e()};z.prototype.e=function(){var a;this.h||(this.h=p,a=this.p,this.p=q);a&&a.e()};var M=D.Sa=function(){this.h=s;this.p=q};M.prototype.D=function(){return this.p};M.prototype.f=function(a){var b=this.h,c;b||(c=this.p,this.p=a);c&&c.e();b&&a&&a.e()};M.prototype.g=function(a){if(a)this.f(a);else return this.D()};
M.prototype.e=function(){var a;this.h||(this.h=p,a=this.p,this.p=q);a&&a.e()};var wa=function(a){this.g=a;this.g.count++;this.Ba=s},xa=function(a){this.Oa=a;this.ka=this.h=s;this.count=0};wa.prototype.e=function(){!this.g.h&&!this.Ba&&(this.Ba=p,this.g.count--,0===this.g.count&&this.g.ka&&(this.g.h=p,this.g.Oa.e()))};xa.prototype.e=function(){!this.h&&!this.ka&&(this.ka=p,0===this.count&&(this.h=p,this.Oa.e()))};xa.prototype.D=function(){return this.h?L:new wa(this)};var ya=D.Ra=xa;
la.prototype.e=function(){var a=this;this.M.u(function(){a.h||(a.h=p,a.g.e())})};ma.prototype.ha=function(){this.g.g(this.pb())};ma.prototype.da=function(a){return this.t(this.v,a.v)};ma.prototype.pb=function(){return this.action(this.M,this.state)};
var Ba=function(a,b,c,d){this.now=a;this.sa=b;this.aa=c;this.$=d},Ca=function(a,b,c){function d(b){f(b,function(b,e){var f=s,h=s,m=a[c].call(a,b,e,function(a,b){f?g.remove(m):h=p;d(b);return L});h||(g.add(m),f=p)})}var e=b.O,f=b.S,g=new I;d(e);return g},Da=function(a,b){b();return L},N=Ba.prototype;N.H=function(a){return new Ea(this,a)};N.Gc=function(a,b){return this.K(q,a,function(){b()})};N.K=function(a,b,c){var d=a,e=u.setInterval(function(){d=c(d)},b);return va(function(){u.clearInterval(e)})};
N.u=function(a){return this.sa(a,Da)};N.R=function(a,b){return this.sa(a,b)};N.B=function(a,b){return this.aa(b,a,Da)};N.L=function(a,b,c){return this.aa(a,b,c)};N.Q=function(a,b){return this.$(b,a,Da)};N.yb=function(a,b,c){return this.$(a,b,c)};N.F=function(a){return this.Ma(a,function(a,c){a(function(){c(a)})})};
N.Ma=function(a,b){return this.R({O:a,S:b},function(a,b){function e(b){g(b,function(b){var d=s,f=s,g=a.R(b,function(a,b){d?h.remove(g):f=p;e(b);return L});f||(h.add(g),d=p)})}var f=b.O,g=b.S,h=new I;e(f);return h})};N.Ka=function(a,b){return this.La(b,a,function(a,b){a(function(e){b(a,e)})})};N.La=function(a,b,c){return this.aa({O:a,S:c},b,function(a,b){return Ca(a,b,"scheduleWithRelativeAndState")})};N.Ja=function(a,b){return this.wb(b,a,function(a,b){a(function(e){b(a,e)})})};
N.wb=function(a,b,c){return this.$({O:a,S:c},b,function(a,b){return Ca(a,b,"scheduleWithAbsoluteAndState")})};Ba.now=ca;Ba.normalize=function(a){0>a&&(a=0);return a};var Q=D.qa=Ba,R=Q.xc=new Q(ca,function(a,b){return b(this,a)},function(a,b,c){0<b&&k(Error("Scheduler is not allowed to block the thread"));return c(this,a)},function(a,b,c){return this.L(a,b-this.now(),c)}),Fa=function(){S=new ta(4)},S;Fa.prototype.e=function(){S=q};
Fa.prototype.ub=function(){for(var a;0<S.length;)if(a=S.ua(),!a.g.h){for(;0<a.v-Q.now(););a.g.h||a.ha()}};var Ga=new Q(ca,function(a,b){return this.L(a,0,b)},function(a,b,c){b=this.now()+Q.normalize(b);a=new ma(this,a,c,b);if(S)S.ea(a);else{c=new Fa;try{S.ea(a),c.ub()}finally{c.e()}}return a.g},function(a,b,c){return this.L(a,b-this.now(),c)});Ga.xb=function(){return S===q};Ga.nc=function(a){return S===q?this.u(a):a()};
var Ha=Q.gc=Ga,Ia=function(a,b){b(0,this.ra);try{this.s=this.Wa(this.s)}catch(c){this.Xa.e(),k(c)}},Ja=function(a,b,c,d){this.z=a;this.s=b;this.ra=c;this.Wa=d};Ja.prototype.start=function(){var a=new z;this.Xa=a;a.f(this.z.La(0,this.ra,Ia.bind(this)));return a};
var Ka=function(){return this.Fb(this.m)},La=function(a,b){return this.ma(a,this.m,b)},Ma=function(a,b,c){return this.na(a,this.Na(b),c)},Na=function(a,b,c){return this.na(a,this.Na(b-this.now()),c)},Oa=function(a,b){b();return L},Pa=function(a,b){this.m=a;this.t=b;this.isEnabled=s;this.o=new ta(1024);Pa.j.constructor.call(this,Ka,La,Ma,Na)};E(Pa,Q);
F(Pa.prototype,{K:function(a,b,c){return(new Ja(this,a,b,c)).start()},na:function(a,b,c){b=this.add(this.m,b);return this.ma(a,b,c)},Hc:function(a,b){return this.na(b,a,Oa)},start:function(){var a;if(!this.isEnabled){this.isEnabled=p;do a=this.ya(),a!==q?(0<this.t(a.v,this.m)&&(this.m=a.v),a.ha()):this.isEnabled=s;while(this.isEnabled)}},stop:function(){this.isEnabled=s},fb:function(a){var b;b=this.t(this.m,a);0<this.t(this.m,a)&&k(Error("Argument out of range"));if(0!==b&&!this.isEnabled){this.isEnabled=
p;do b=this.ya(),b!==q&&0>=this.t(b.v,a)?(0<this.t(b.v,this.m)&&(this.m=b.v),b.ha()):this.isEnabled=s;while(this.isEnabled);this.m=a}},Wb:function(a){a=this.add(this.m,a);var b=this.t(this.m,a);0<b&&k(Error("Argument out of range"));if(0!==b)return this.fb(a)},Pc:function(a){a=this.add(this.m,a);0<=this.t(this.m,a)&&k(Error("Argument out of range"));this.m=a},ya:function(){for(var a;0<this.o.length;)if(a=this.o.Fa(),a.g.h)this.o.ua();else return a;return q},Fc:function(a,b){return this.ma(b,a,Oa)},
ma:function(a,b,c){var d=this,e=new ma(d,a,function(a,b){d.o.remove(e);return c(a,b)},b,d.t);d.o.ea(e);return e.g}});D.Va=Pa;var Qa=function(a,b){Qa.j.constructor.call(this,a==q?0:a,b||fa)};E(Qa,D.Va);var Ra=Qa.prototype;Ra.add=function(a,b){return a+b};Ra.Fb=function(a){return(new Date(a)).getTime()};Ra.Na=t();D.Rb=Qa;
var Sa,Ta=u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.oRequestAnimationFrame||u.msRequestAnimationFrame,Ua=u.cancelAnimationFrame||u.webkitCancelAnimationFrame||u.mozCancelAnimationFrame||u.oCancelAnimationFrame||u.msCancelAnimationFrame,Va,Wa;"undefined"!==typeof u.Ha&&"function"===typeof u.Ha.rb?(Va=u.Ha.rb,Wa=v):"function"===typeof u.zb?(Va=u.zb,Wa=u.$b):"function"===typeof Ta?(Va=Ta,Wa=Ua):(Va=function(a){return u.setTimeout(a,0)},Wa=u.clearTimeout);
Sa=new Q(ca,function(a,b){var c=this,d=new z,e=Va(function(){d.f(b(c,a))});return new I(d,va(function(){Wa(e)}))},function(a,b,c){var d=this;b=Q.normalize(b);if(0===b)return d.R(a,c);var e=new z,f=u.setTimeout(function(){e.f(c(d,a))},b);return new I(e,va(function(){u.clearTimeout(f)}))},function(a,b,c){return this.L(a,b-this.now(),c)});
var Xa=Q.timeout=Sa,Ea,Ya=function(){return this.z.now()},Za=function(a,b){return this.z.R(a,this.ba(b))},$a=function(a,b,c){return this.z.L(a,b,this.ba(c))},ab=function(a,b,c){return this.z.yb(a,b,this.ba(c))},bb=function(a,b){this.z=a;this.W=b;this.Z=this.Y=q;bb.j.constructor.call(this,Ya,Za,$a,ab)};E(bb,Q);bb.prototype.Ya=function(a){return new bb(a,this.W)};bb.prototype.ba=function(a){var b=this;return function(c,d){try{return a(b.Za(c),d)}catch(e){return b.W(e)||k(e),L}}};
bb.prototype.Za=function(a){if(!this.Y!==a){this.Y=a;var b=this.Ya(a);b.Y=a;this.Z=b.Z=b}return this.Z};bb.prototype.K=function(a,b,c){var d=this,e=s,f=new z;f.f(this.z.K(a,b,function(a){if(e)return q;try{return c(a)}catch(b){return e=p,d.W(b)||k(b),f.e(),q}}));return f};Ea=bb;var cb=aa();
F(cb.prototype,{accept:function(a,b,c){return 1<arguments.length||"function"===typeof a?this.V(a,b,c):this.N(a)},dd:function(a){var b=this;a=a||R;return new A(function(c){return a.u(function(){b.N(c);"N"===b.P&&c.b()})})},J:s,oc:function(a){return this.toString()===(a==q?"":a.toString())}});var db=D.Sb=cb,eb=function(a){this.value=a;this.J=p;this.P="N"};E(eb,db);
F(eb.prototype,{V:function(a){return a(this.value)},N:function(a){return a.c(this.value)},toString:function(){return"OnNext("+this.value+")"}});var fb=db.ec=function(a){return new eb(a)},gb=function(a){this.q=a;this.P="E"};E(gb,db);F(gb.prototype,{V:function(a,b){return b(this.q)},N:function(a){return a.a(this.q)},toString:function(){return"OnError("+this.q+")"}});var hb=db.dc=function(a){return new gb(a)},ib=function(){this.P="C"};E(ib,db);
F(ib.prototype,{V:function(a,b,c){return c()},N:function(a){return a.b()},toString:function(){return"OnCompleted()"}});var jb=db.cc=function(){return new ib},kb=D.r.Qb=function(a,b,c){this.Ea=a;this.wa=b;this.e=c},lb=kb.create=function(a,b,c){var d=s;c||(c=v);return new kb(function(){if(d)return s;var b=a();b||(d=p,c());return b},function(){return b()},function(){d||(c(),d=p)})},mb=D.r,nb=function(a){this.xa=a};
nb.prototype.concat=function(){var a=this;return new A(function(b){var c=a.xa(),d=s,e=new M,f=R.F(function(a){var f,j,n=s;if(!d){try{(n=c.Ea())?f=c.wa():c.e()}catch(r){j=r,c.e()}j?b.a(j):n?(j=new z,e.f(j),j.f(f.d(b.c.bind(b),b.a.bind(b),function(){a()}))):b.b()}});return new I(e,f,va(function(){d=p;c.e()}))})};
nb.prototype.H=function(){var a=this;return new A(function(b){var c=a.xa(),d=s,e,f=new M,g=R.F(function(a){var g,n,r;r=s;if(!d){try{(r=c.Ea())&&(g=c.wa())}catch(G){n=G}n?b.a(n):r?(n=new z,f.f(n),n.f(g.d(b.c.bind(b),function(b){e=b;a()},b.b.bind(b)))):e?b.a(e):b.b()}});return new I(f,g,va(function(){d=p}))})};
var ob=mb.Pb=nb,pb=ob.repeat=function(a,b){b===l&&(b=-1);return new ob(function(){var c,d=b;return lb(function(){if(0===d)return s;0<d&&d--;c=a;return p},function(){return c})})},qb=ob.forEach=function(a,b){b||(b=ba);return new ob(function(){var c,d=-1;return lb(function(){return++d<a.length?(c=b(a[d],d),p):s},function(){return c})})},rb=D.Tb=aa(),tb=rb.create=function(a,b,c){a||(a=v);b||(b=ha);c||(c=v);return new sb(a,b,c)};
rb.rc=function(a){return new sb(function(b){return a(fb(b))},function(b){return a(hb(b))},function(){return a(jb())})};var ub=D.r,wb=function(){this.i=s};E(wb,rb);wb.prototype.c=function(a){this.i||this.next(a)};wb.prototype.a=function(a){this.i||(this.i=p,this.error(a))};wb.prototype.b=function(){this.i||(this.i=p,this.I())};wb.prototype.e=function(){this.i=p};wb.prototype.va=function(){return!this.i?(this.i=p,this.error(p),p):s};
var xb=ub.Lb=wb,yb=function(a,b,c){yb.j.constructor.call(this);this.bb=a;this.ab=b;this.$a=c};E(yb,xb);yb.prototype.next=function(a){this.bb(a)};yb.prototype.error=function(a){this.ab(a)};yb.prototype.I=function(){this.$a()};var sb=D.Mb=yb,zb=function(a){this.X=a;this.s=0};E(zb,rb);zb.prototype.c=function(a){this.ca();try{this.X.c(a)}finally{this.s=0}};zb.prototype.a=function(a){this.ca();try{this.X.a(a)}finally{this.s=2}};zb.prototype.b=function(){this.ca();try{this.X.b()}finally{this.s=2}};
zb.prototype.ca=function(){1===this.s&&k(Error("Re-entrancy detected"));2===this.s&&k(Error("Observer completed"));0===this.s&&(this.s=1)};var Ab=D.r,T=function(a,b){T.j.constructor.call(this);this.M=a;this.n=b;this.za=this.ia=s;this.o=[];this.g=new M};E(T,xb);T.prototype.next=function(a){var b=this;this.o.push(function(){b.n.c(a)})};T.prototype.error=function(a){var b=this;this.o.push(function(){b.n.a(a)})};T.prototype.I=function(){var a=this;this.o.push(function(){a.n.b()})};
T.prototype.fa=function(){var a=s,b=this;!this.za&&0<this.o.length&&(a=!this.ia,this.ia=p);a&&this.g.f(this.M.F(function(a){var d;if(0<b.o.length){d=b.o.shift();try{d()}catch(e){b.o=[],b.za=p,k(e)}a()}else b.ia=s}))};T.prototype.e=function(){T.j.e.call(this);this.g.e()};var Bb=Ab.Ub=T,Cb,U=function(){U.j.constructor.apply(this,arguments)};E(U,Bb);U.prototype.next=function(a){U.j.next.call(this,a);this.fa()};U.prototype.error=function(a){U.j.error.call(this,a);this.fa()};
U.prototype.I=function(){U.j.I.call(this);this.fa()};Cb=U;var V,Db=function(a){this.cb=a};V=Db.prototype;V.lb=function(){var a=this;return new A(function(b){var c=s,d;return a.d(function(a){c=p;d=a},b.a.bind(b),function(){c?(b.c(d),b.b()):b.a(Error("Sequence contains no elements."))})})};V.d=function(a,b,c){var d;d=0===arguments.length||1<arguments.length||"function"===typeof a?tb(a,b,c):a;return this.cb(d)};V.T=function(){return this.vb([],function(a,b){a.push(b);return a.slice(0)}).Ab([]).lb()};
var W=D.pa=Db;W.start=function(a,b){return Eb(a,b)()};var Eb=W.cd=function(a,b,c){b||(b=Xa);return function(){var d=x.call(arguments,0),e=new Fb;b.u(function(){var b;try{b=a.apply(c,d)}catch(g){e.a(g);return}e.c(b);e.b()});return e.gb()}};V.Bc=function(a){var b=this;return new A(function(c){return b.d(new Cb(a,c))})};V.Qc=function(a){var b=this;return new A(function(c){var d=new z,e=new M;e.f(d);d.f(a.u(function(){e.f(new la(a,b.d(c)))}));return e})};W.create=function(a){return new A(function(b){return va(a(b))})};
W.fc=function(a){return new A(a)};var Hb=W.defer=function(a){return new A(function(b){var c;try{c=a()}catch(d){return Gb(d).d(b)}return c.d(b)})};W.empty=function(a){a||(a=R);return new A(function(b){return a.u(function(){b.b()})})};var Ib=W.mb=function(a,b){b||(b=Ha);return new A(function(c){var d=0;return b.F(function(b){d<a.length?(c.c(a[d++]),b()):c.b()})})};
W.sc=function(a,b,c,d,e){e||(e=Ha);return new A(function(f){var g=p,h=a;return e.F(function(a){var e,r;try{g?g=s:h=c(h),(e=b(h))&&(r=d(h))}catch(G){f.a(G);return}e?(f.c(r),a()):f.b()})})};var Jb=W.Ac=function(){return new A(function(){return L})};W.Cc=function(a,b,c){c||(c=Ha);return new A(function(d){return c.Ma(0,function(c,f){c<b?(d.c(a+c),f(c+1)):d.b()})})};W.repeat=function(a,b,c){c||(c=Ha);b==l&&(b=-1);return Kb(a,c).repeat(b)};
var Kb=W.returnValue=function(a,b){b||(b=R);return new A(function(c){return b.u(function(){c.c(a);c.b()})})},Gb=W.Eb=function(a,b){b||(b=R);return new A(function(c){return b.u(function(){c.a(a)})})};W.ed=function(a,b){return new A(function(c){var d=L,e,f;try{(e=a())&&(d=e),f=b(e)}catch(g){return new I(Gb(g).d(c),d)}return new I(f.d(c),d)})};
V.ta=function(a){var b=this;return new A(function(c){function d(){f||(f=g,n.e())}function e(){f||(f=h,j.e())}var f,g="L",h="R",j=new z,n=new z;j.f(b.d(function(a){d();f===g&&c.c(a)},function(a){d();f===g&&c.a(a)},function(){d();f===g&&c.b()}));n.f(a.d(function(a){e();f===h&&c.c(a)},function(a){e();f===h&&c.a(a)},function(){e();f===h&&c.b()}));return new I(j,n)})};W.ta=function(){for(var a=Jb(),b=ja(arguments),c=0,d=b.length;c<d;c++)a=a.ta(b[c]);return a};
V.H=function(a){var b;if("function"===typeof a){var c=this;b=new A(function(b){var e=new z,f=new M;f.f(e);e.f(c.d(b.c.bind(b),function(c){var e;try{e=a(c)}catch(j){b.a(j);return}c=new z;f.f(c);c.f(e.d(b))},b.b.bind(b)));return f})}else b=Lb([this,a]);return b};var Lb=W.H=function(){var a=ja(arguments);return qb(a).H()};V.hb=function(){var a=x.call(arguments);Array.isArray(a[0])?a[0].unshift(this):a.unshift(this);return Mb.apply(this,a)};
var Mb=W.hb=function(){var a=x.call(arguments),b=a.pop();Array.isArray(a[0])&&(a=a[0]);return new A(function(c){function d(){return s}for(var e=a.length,f=ka(e,d),g=s,h=ka(e,d),j=Array(e),n=Array(e),r=0;r<e;r++)(function(d){n[d]=new z;n[d].f(a[d].d(function(a){j[d]=a;a:{var e;f[d]=p;if(g||(g=f.every(t()))){try{e=b.apply(q,j)}catch(n){c.a(n);break a}c.c(e)}else h.filter(function(a,b){return b!==d}).every(t())&&c.b()}},c.a.bind(c),function(){h[d]=p;h.every(t())&&c.b()}))})(r);return new I(n)})};
V.concat=function(){var a=x.call(arguments,0);a.unshift(this);return Nb.apply(this,a)};var Nb=W.concat=function(){var a=ja(arguments);return qb(a).concat()};V.bc=V.ac=function(){return this.Da(1)};
V.Da=function(a){if("number"!==typeof a)return Ob(this,a);var b=this;return new A(function(c){function d(a){var b=new z;f.add(b);b.f(a.d(c.c.bind(c),c.a.bind(c),function(){var a;f.remove(b);0<h.length?(a=h.shift(),d(a)):(e--,g&&0===e&&c.b())}))}var e=0,f=new I,g=s,h=[];f.add(b.d(function(b){e<a?(e++,d(b)):h.push(b)},c.a.bind(c),function(){g=p;0===e&&c.b()}));return f})};
var Ob=W.Da=function(){var a,b;arguments[0]?arguments[0].now?(a=arguments[0],b=x.call(arguments,1)):(a=R,b=x.call(arguments,0)):(a=R,b=x.call(arguments,1));Array.isArray(b[0])&&(b=b[0]);return Ib(b,a).la()};V.la=V.zc=function(){var a=this;return new A(function(b){var c=new I,d=s,e=new z;c.add(e);e.f(a.d(function(a){var e=new z;c.add(e);e.f(a.d(function(a){b.c(a)},b.a.bind(b),function(){c.remove(e);d&&1===c.length&&b.b()}))},b.a.bind(b),function(){d=p;1===c.length&&b.b()}));return c})};
V.tb=function(a){a||k(Error("Second observable is required"));return Pb([this,a])};var Pb=W.tb=function(){var a=ja(arguments);return new A(function(b){var c=0,d=new M,e=R.F(function(e){var g,h;c<a.length?(g=a[c++],h=new z,d.f(h),h.f(g.d(b.c.bind(b),function(){e()},function(){e()}))):b.b()});return new I(d,e)})};
V.Lc=function(a){var b=this;return new A(function(c){var d=s,e=new I(b.d(function(a){d&&c.c(a)},c.a.bind(c),function(){d&&c.b()})),f=new z;e.add(f);f.f(a.d(function(){d=p;f.e()},c.a.bind(c),function(){f.e()}));return e})};V.Rc=function(){var a=this;return new A(function(b){var c=s,d=new M,e=s,f=0,g=a.d(function(a){var g=new z,n=++f;c=p;d.f(g);g.f(a.d(function(a){f===n&&b.c(a)},function(a){f===n&&b.a(a)},function(){f===n&&(c=s,e&&b.b())}))},b.a.bind(b),function(){e=p;c||b.b()});return new I(g,d)})};
V.Uc=function(a){var b=this;return new A(function(c){return new I(b.d(c),a.d(c.b.bind(c),c.a.bind(c),v))})};
V.fd=function(){if(Array.isArray(arguments[0]))return na.apply(this,arguments);var a=this,b=x.call(arguments),c=b.pop();b.unshift(a);return new A(function(d){for(var e=b.length,f=ka(e,function(){return[]}),g=ka(e,function(){return s}),h=Array(e),j=0;j<e;j++)(function(e){h[e]=new z;h[e].f(b[e].d(function(b){f[e].push(b);a:{var h,m;if(f.every(function(a){return 0<a.length})){try{m=f.map(function(a){return a.shift()}),h=c.apply(a,m)}catch(j){d.a(j);break a}d.c(h)}else g.filter(function(a,b){return b!==
e}).every(t())&&d.b()}},d.a.bind(d),function(){g[e]=p;g.every(t())&&d.b()}))})(j);return new I(h)})};V.gb=function(){var a=this;return new A(function(b){return a.d(b)})};V.Xb=function(a,b){b===l&&(b=a);return this.Ib(a,b).G(function(a){return a.T()}).Hb(function(a){return 0<a.length})};V.kc=function(){var a=this;return new A(function(b){return a.d(function(a){return a.accept(b)},b.a.bind(b),b.b.bind(b))})};
V.jb=function(){var a,b,c=this;a||(a=ba);b||(b=da);return new A(function(d){var e=s,f;return c.d(function(c){var h=s,j;try{j=a(c)}catch(n){d.a(n);return}if(e)try{h=b(f,j)}catch(r){d.a(r);return}if(!e||!h)e=p,f=j,d.c(c)},d.a.bind(d),d.b.bind(d))})};V.mc=function(a,b,c){var d=this,e;"function"===typeof a?e=a:(e=a.c.bind(a),b=a.a.bind(a),c=a.b.bind(a));return new A(function(a){return d.d(function(b){try{e(b)}catch(c){a.a(c)}a.c(b)},function(c){if(b)try{b(c)}catch(d){a.a(d)}a.a(c)},function(){if(c)try{c()}catch(b){a.a(b)}a.b()})})};
V.pc=function(a){var b=this;return new A(function(c){var d=b.d(c);return va(function(){try{d.e()}finally{a()}})})};V.wc=function(){var a=this;return new A(function(b){return a.d(v,b.a.bind(b),b.b.bind(b))})};V.qb=function(){var a=this;return new A(function(b){return a.d(function(a){b.c(fb(a))},function(a){b.c(hb(a));b.b()},function(){b.c(jb());b.b()})})};V.repeat=function(a){return pb(this,a).concat()};V.Dc=function(a){return pb(this,a).H()};
V.vb=function(){var a,b=s,c;2===arguments.length?(a=arguments[0],c=arguments[1],b=p):c=arguments[0];var d=this;return Hb(function(){var e=s,f;return d.select(function(d){e?f=c(f,d):(f=b?c(a,d):d,e=p);return f})})};V.Jc=function(a){var b=this;return new A(function(c){var d=[];return b.d(function(b){d.push(b);d.length>a&&c.c(d.shift())},c.a.bind(c),c.b.bind(c))})};
V.Ab=function(){var a,b;a=0;0<arguments.length&&arguments[0]!=q&&arguments[0].now!==l?(b=arguments[0],a=1):b=R;a=x.call(arguments,a);return qb([Ib(a,b),this]).concat()};V.Sc=function(a,b){return this.Cb(a).G(function(a){return Ib(a,b)})};V.Cb=function(a){var b=this;return new A(function(c){var d=[];return b.d(function(b){d.push(b);d.length>a&&d.shift()},c.a.bind(c),function(){c.c(d);c.b()})})};
V.Ib=function(a,b){var c=this;0>=a&&k(Error("Argument out of range"));b==q&&(b=a);0>=b&&k(Error("Argument out of range"));return new A(function(d){function e(){var a=new Qb;j.push(a);d.c(ra(a,g))}var f=new z,g=new ya(f),h=0,j=[];e();f.f(c.d(function(c){for(var d=0,f=j.length;d<f;d++)j[d].c(c);c=h-a+1;0<=c&&0===c%b&&(c=j.shift(),c.b());h++;0===h%b&&e()},function(a){for(;0<j.length;)j.shift().a(a);d.a(a)},function(){for(;0<j.length;)j.shift().b();d.b()}));return g})};
V.hc=function(a){var b=this;a===l&&(a=q);return new A(function(c){var d=s;return b.d(function(a){d=p;c.c(a)},c.a.bind(c),function(){d||c.c(a);c.b()})})};V.lc=function(a,b){var c=this;a||(a=ba);b||(b=ga);return new A(function(d){var e={};return c.d(function(c){var g,h,j,n=s;try{g=a(c),h=b(g)}catch(r){d.a(r);return}for(j in e)if(h===j){n=p;break}n||(e[h]=q,d.c(c))},d.a.bind(d),d.b.bind(d))})};V.vc=function(a,b,c){return this.ob(a,b,function(){return Jb()},c)};
V.ob=function(a,b,c,d){var e=this;b||(b=ba);d||(d=ga);return new A(function(f){var g={},h=new I,j=new ya(h);h.add(e.d(function(e){var r,G,m,J,B,y,ea,H,C;try{G=a(e),y=d(G)}catch(pa){for(C in g)g[C].a(pa);f.a(pa);return}B=s;try{H=g[y],H||(H=new Qb,g[y]=H,B=p)}catch(za){for(C in g)g[C].a(za);f.a(za);return}if(B){B=new Rb(G,H,j);G=new Rb(G,H);try{r=c(G)}catch(Aa){for(C in g)g[C].a(Aa);f.a(Aa);return}f.c(B);ea=new z;h.add(ea);J=function(){y in g&&(delete g[y],H.b());h.remove(ea)};ea.f(r.Bb().d(v,function(a){for(C in g)g[C].a(a);
f.a(a)},function(){J()}))}try{m=b(e)}catch(P){for(C in g)g[C].a(P);f.a(P);return}H.c(m)},function(a){for(var b in g)g[b].a(a);f.a(a)},function(){for(var a in g)g[a].b();f.b()}));return j})};V.select=V.map=function(a){var b=this;return new A(function(c){var d=0;return b.d(function(b){var f;try{f=a(b,d++)}catch(g){c.a(g);return}c.c(f)},c.a.bind(c),c.b.bind(c))})};
V.G=V.qc=function(a,b){return b?this.G(function(c){return a(c).select(function(a){return b(c,a)})}):"function"===typeof a?this.select(a).la():this.select(function(){return a}).la()};V.Ic=function(a){0>a&&k(Error("Argument out of range"));var b=this;return new A(function(c){var d=a;return b.d(function(a){0>=d?c.c(a):d--},c.a.bind(c),c.b.bind(c))})};
V.Nc=function(a){var b=this;return new A(function(c){var d=0,e=s;return b.d(function(b){if(!e)try{e=!a(b,d++)}catch(g){c.a(g);return}e&&c.c(b)},c.a.bind(c),c.b.bind(c))})};V.Bb=function(){var a=this;return new A(function(b){var c=1;return a.d(function(a){0<c&&(c--,b.c(a),0===c&&b.b())},b.a.bind(b),b.b.bind(b))})};V.Wc=function(a){var b=this;return new A(function(c){var d=0,e=p;return b.d(function(b){if(e){try{e=a(b,d++)}catch(g){c.a(g);return}e?c.c(b):c.b()}},c.a.bind(c),c.b.bind(c))})};
V.Hb=V.filter=function(a){var b=this;return new A(function(c){var d=0;return b.d(function(b){var f;try{f=a(b,d++)}catch(g){c.a(g);return}f&&c.c(b)},c.a.bind(c),c.b.bind(c))})};var Sb=D.r,Tb=function(a){Tb.j.constructor.call(this,function(b){var c=new Ub(b);if(Ha.xb())Ha.u(function(){try{c.g(a(c))}catch(b){c.va()||k(b)}});else try{c.g(a(c))}catch(d){c.va()||k(d)}return c})};E(Tb,W);var A=Sb.Pa=Tb,Ub,X=function(a){X.j.constructor.call(this);this.n=a;this.Ca=new z};E(X,xb);
X.prototype.next=function(a){var b=s;try{this.n.c(a),b=p}finally{b||this.e()}};X.prototype.error=function(a){try{this.n.a(a)}finally{this.e()}};X.prototype.I=function(){try{this.n.b()}finally{this.e()}};X.prototype.g=function(a){return this.Ca.g(a)};X.prototype.e=function(){X.j.e.call(this);this.Ca.e()};Ub=X;var Rb,Vb=function(a){return this.Gb.d(a)},Wb=function(a,b,c){Wb.j.constructor.call(this,Vb);this.key=a;this.Gb=!c?b:new A(function(a){return new I(c.D(),b.d(a))})};E(Wb,W);Rb=Wb;
var Xb=function(a,b){this.oa=a;this.n=b};Xb.prototype.e=function(){if(!this.oa.h&&this.n!==q){var a=this.oa.l.indexOf(this.n);this.oa.l.splice(a,1);this.n=q}};var Yb=function(a){w.call(this);if(!this.i)return this.l.push(a),new Xb(this,a);if(this.q)return a.a(this.q),L;a.b();return L},Zb=function(){Zb.j.constructor.call(this,Yb);this.i=this.h=s;this.l=[]};E(Zb,W);
F(Zb.prototype,rb,{b:function(){w.call(this);if(!this.i){var a=this.l.slice(0);this.i=p;for(var b=0,c=a.length;b<c;b++)a[b].b();this.l=[]}},a:function(a){w.call(this);if(!this.i){var b=this.l.slice(0);this.i=p;this.q=a;for(var c=0,d=b.length;c<d;c++)b[c].a(a);this.l=[]}},c:function(a){w.call(this);if(!this.i)for(var b=this.l.slice(0),c=0,d=b.length;c<d;c++)b[c].c(a)},e:function(){this.h=p;this.l=q}});Zb.create=function(a,b){return new $b(a,b)};
var Qb=D.Ua=Zb,ac=function(a){w.call(this);if(!this.i)return this.l.push(a),new Xb(this,a);var b=this.q,c=this.J,d=this.value;b?a.a(b):(c&&a.c(d),a.b());return L},bc=function(){bc.j.constructor.call(this,ac);this.i=this.h=s;this.value=q;this.J=s;this.l=[];this.q=q};E(bc,W);
F(bc.prototype,rb,{b:function(){var a,b,c;w.call(this);if(!this.i){var d=this.l.slice(0);this.i=p;var e=this.value;if(this.J){b=0;for(c=d.length;b<c;b++)a=d[b],a.c(e),a.b()}else{b=0;for(c=d.length;b<c;b++)d[b].b()}this.l=[]}},a:function(a){w.call(this);if(!this.i){var b=this.l.slice(0);this.i=p;this.q=a;for(var c=0,d=b.length;c<d;c++)b[c].a(a);this.l=[]}},c:function(a){w.call(this);this.i||(this.value=a,this.J=p)},e:function(){this.h=p;this.value=this.q=this.l=q}});
var Fb=D.Nb=bc,$b,cc=function(a){return this.sb.d(a)},dc=function(a,b){dc.j.constructor.call(this,cc);this.n=a;this.sb=b};E(dc,W);F(dc.prototype,rb,{b:function(){this.n.b()},a:function(a){this.n.a(a)},c:function(a){this.n.c(a)}});$b=dc;"function"==typeof define&&"object"==typeof define.amd&&define.amd?(u.C=D,define("rx",[],function(){return D})):oa?"object"==typeof module&&module&&module.ga==oa?module.ga=D:oa=D:u.C=D;var Y=this;
function ec(a){function b(a,b,c){var d=pa(b);return new h(function(b){var e=0,f=a;return c.Ja(f,function(a){var g;0<d&&(g=c.now(),f+=d,f<=g&&(f=g+d));b.c(e++);a(f)})})}function c(a,c,d){return a===c?new h(function(a){return d.K(0,c,function(b){a.c(b);return b+1})}):j(function(){return b(d.now()+a,c,d)})}function d(a,b){var c=this;return new h(function(d){var e=s,f=new B,g=q,h=[],m=s,j;j=c.qb().timestamp(b).d(function(c){"E"===c.value.P?(h=[],h.push(c),g=c.value.q,c=!m):(h.push({value:c.value,timestamp:c.timestamp+
a}),c=!e,e=p);c&&(g!==q?d.a(g):(c=new J,f.g(c),c.g(b.Ka(a,function(a){var c,f,P;if(g===q){m=p;do c=q,0<h.length&&0>=h[0].timestamp-b.now()&&(c=h.shift().value),c!==q&&c.accept(d);while(c!==q);P=s;f=0;0<h.length?(P=p,f=Math.max(0,h[0].timestamp-b.now())):e=s;c=g;m=s;c!==q?d.a(c):P&&a(f)}}))))});return new y(j,f)})}function e(a,b){return new h(function(c){function d(){g&&(g=s,c.c(f));e&&c.b()}var e,f,g;return new y(a.d(function(a){g=p;f=a},c.a.bind(c),function(){e=p}),b.d(d,c.a.bind(c),d))})}var f=
a.pa,g=f.prototype,h=a.r.Pa,j=f.defer,n=f.empty,r=f.Eb,G=f.mb,m=a.qa.timeout,J=a.Ta,B=a.Sa,y=a.Qa,ea=a.Ra,H=a.Ua,C=a.r.eb,pa=a.qa.normalize,za=f.w=function(a,b){b||(b=m);return c(a,a,b)},Aa=f.bd=function(a,d,e){var f;e||(e=m);d!==l&&"number"===typeof d?f=d:d!==l&&"object"===typeof d&&(e=d);if(a instanceof Date&&f===l){var g=a.getTime(),gc=e;return new h(function(a){return gc.Q(g,function(){a.c(0);a.b()})})}if(a instanceof Date&&f!==l)return b(a.getTime(),d,e);if(f===l){var hc=e,j=pa(a);a=new h(function(a){return hc.B(j,
function(){a.c(0);a.b()})})}else a=c(a,f,e);return a};g.ic=function(a,b){b||(b=m);var c;if(a instanceof Date){var e=a.getTime(),f=b,g=this;c=j(function(){var a=e-f.now();return d.call(g,a,f)})}else c=d.call(this,a,b);return c};g.Yc=function(a,b){b||(b=m);var c=this;return new h(function(d){var e=new B,f=s,g=0,h,m=q;h=c.d(function(c){var h;f=p;m=c;g++;h=g;c=new J;e.g(c);c.g(b.B(a,function(){f&&g===h&&d.c(m);f=s}))},function(a){e.e();d.a(a);f=s;g++},function(){e.e();f&&d.c(m);d.b();f=s;g++});return new y(h,
e)})};g.Jb=function(a,b,c){var d=this,e;b===l&&(e=a);c===l&&(c=m);"number"===typeof b?e=b:"object"===typeof b&&(e=a,c=b);return new h(function(b){var f,g,h=e,m=a,O=[],j,n=new B,r=0;g=new y(n);j=new ea(g);f=function(){var a,d,g,P,vb;g=new J;n.g(g);a=d=s;m===h?a=d=p:m<h?d=p:a=p;P=d?m:h;vb=P-r;r=P;d&&(m+=e);a&&(h+=e);g.g(c.B(vb,function(){var c;a&&(c=new H,O.push(c),b.c(C(c,j)));d&&(c=O.shift(),c.b());f()}))};O.push(new H);b.c(C(O[0],j));f();g.add(d.d(function(a){var b,c;for(b=0;b<O.length;b++)c=O[b],
c.c(a)},function(a){var c,d;for(c=0;c<O.length;c++)d=O[c],d.a(a);b.a(a)},function(){var a,c;for(a=0;a<O.length;a++)c=O[a],c.b();b.b()}));return j})};g.Kb=function(a,b,c){var d=this;c||(c=m);return new h(function(e){var f,g,h=0,m,j,n=new B,r=0;g=new y(n);m=new ea(g);f=function(b){var d=new J;n.g(d);d.g(c.B(a,function(){var a;b===r&&(h=0,a=++r,j.b(),j=new H,e.c(C(j,m)),f(a))}))};j=new H;e.c(C(j,m));f(0);g.add(d.d(function(a){var c=0,d=s;j.c(a);h++;h===b&&(d=p,h=0,c=++r,j.b(),j=new H,e.c(C(j,m)));d&&
f(c)},function(a){j.a(a);e.a(a)},function(){j.b();e.b()}));return m})};g.Yb=function(a,b,c){var d;b===l&&(d=a);c||(c=m);"number"===typeof b?d=b:"object"===typeof b&&(d=a,c=b);return this.Jb(a,d,c).G(function(a){return a.T()})};g.Zb=function(a,b,c){c||(c=m);return this.Kb(a,b,c).G(function(a){return a.T()})};g.$c=function(a){var b=this;a||(a=m);return j(function(){var c=a.now();return b.select(function(b){var d=a.now(),e=d-c;c=d;return{value:b,w:e}})})};g.timestamp=function(a){a||(a=m);return this.select(function(b){return{value:b,
timestamp:a.now()}})};g.Ec=function(a,b){b||(b=m);return"number"===typeof a?e(this,za(a,b)):e(this,a)};g.timeout=function(a,b,c){var d,e=this;b||(b=r(Error("Timeout")));c||(c=m);d=a instanceof Date?function(a,b){c.Q(a,b)}:function(a,b){c.B(a,b)};return new h(function(c){var f,g=0,h=new J,m=new B,j=s,n=new B;m.g(h);f=function(){var e=g;n.g(d(a,function(){(j=g===e)&&m.g(b.d(c))}))};f();h.g(e.d(function(a){j||(g++,c.c(a),f())},function(a){j||(g++,c.a(a))},function(){j||(g++,c.b())}));return new y(m,
n)})};f.tc=function(a,b,c,d,e,f){f||(f=m);return new h(function(g){var h=p,m=s,j,n=a,r;return f.Ja(f.now(),function(a){m&&g.c(j);try{if(h?h=s:n=c(n),m=b(n))j=d(n),r=e(n)}catch(f){g.a(f);return}m?a(r):g.b()})})};f.uc=function(a,b,c,d,e,f){f||(f=m);return new h(function(g){var h=p,m=s,j,n=a,r;return f.Ka(0,function(a){m&&g.c(j);try{if(h?h=s:n=c(n),m=b(n))j=d(n),r=e(n)}catch(f){g.a(f);return}m?a(r):g.b()})})};g.jc=function(a,b){b||(b=m);return this.ib(Aa(a,b),function(){return n()})};g.ib=function(a,
b){var c=this,d,e;"function"===typeof a?e=a:(d=a,e=b);return new h(function(a){function b(){m.f(c.d(function(b){var c;try{c=e(b)}catch(d){a.a(d);return}var h=new J;g.add(h);h.f(c.d(function(){a.c(b);g.remove(h);f()},a.a.bind(a),function(){a.c(b);g.remove(h);f()}))},a.a.bind(a),function(){h=p;m.e();f()}))}function f(){h&&0===g.length&&a.b()}var g=new y,h=s,m=new B;d?m.f(d.d(function(){b()},a.a.bind(onError),function(){b()})):b();return new y(m,g)})};g.ad=function(a,b,c){a||(a=observableNever());c||
(c=r(Error("Timeout")));var d=this;return new h(function(e){function f(){n++;return p}function g(a){var b=n,d=new J;m.f(d);d.f(a.d(function(){n===b&&h.f(c.d(e));d.e()},function(a){n===b&&e.a(a)},function(){n===b&&h.f(c.d(e))}))}var h=new B,m=new B,j=new J;h.f(j);var n=0;g(a);j.f(d.d(function(a){if(f()){e.c(a);var c;try{c=b(a)}catch(d){e.a(d);return}g(c)}},function(a){f()&&e.a(a)},function(){f()&&e.b()}));return new y(h,m)})};g.Zc=function(a){var b=this;return new h(function(c){var d,e=s,f=new B,g=
0,h=b.d(function(b){var h;try{h=a(b)}catch(m){c.a(m);return}e=p;d=b;g++;var j=g,n=new J;f.f(n);n.f(h.d(function(){e&&g===j&&c.c(d);e=s;n.e()},c.a.bind(c),function(){e&&g===j&&c.c(d);e=s;n.e()}))},function(a){f.e();c.a(a);e=s;g++},function(){f.e();e&&c.c(d);c.b();e=s;g++});return new y(h,f)})};g.Kc=function(a,b){b||(b=m);var c=this;return new h(function(d){var e=[];return c.d(function(c){var f=b.now();for(e.push({w:f,value:c});0<e.length&&f-e[0].w>=a;)d.c(e.shift().value)},d.a.bind(d),function(){for(var c=
b.now();0<e.length&&c-e[0].w>=a;)d.c(e.shift().value);d.b()})})};g.Tc=function(a,b,c){return this.Db(a,b).G(function(a){return G(a,c)})};g.Db=function(a,b){var c=this;b||(b=m);return new h(function(d){var e=[];return c.d(function(c){var d=b.now();for(e.push({w:d,value:c});0<e.length&&d-e[0].w>=a;)e.shift()},d.a.bind(d),function(){for(var c=b.now(),f=[];0<e.length;){var g=e.shift();c-g.w<=a&&f.push(g.value)}d.c(f);d.b()})})};g.Xc=function(a,b){var c=this;b||(b=m);return new h(function(d){var e=b.B(a,
function(){d.b()});return new y(e,c.d(d))})};g.Oc=function(a,b){var c=this;b||(b=m);return new h(function(d){var e=s,f=b.B(a,function(){e=p}),g=c.d(function(a){e&&d.c(a)},d.a.bind(d),d.b.bind(d));return new y(f,g)})};g.Mc=function(a,b){b||(b=m);var c=this;return new h(function(d){var e=s,f=b.Q(a,function(){e=p}),g=c.d(function(a){e&&d.c(a)},d.a.bind(d),d.b.bind(d));return new y(f,g)})};g.Vc=function(a,b){b||(b=m);var c=this;return new h(function(d){return new y(b.Q(a,function(){d.b()}),c.d(d))})};
return a}var fc="object"==typeof exports&&exports&&("object"==typeof Y&&Y&&Y==Y.global&&(window=Y),exports);"function"===typeof define&&define.amd?define("rx.time",["rx","exports"],function(a){Y.C=ec(a);return Y.C}):"object"==typeof module&&module&&module.ga==fc?module.ga=ec(require("./rx")):Y.C=ec(Y.C);var Z=this;
function ic(a){function b(a,b,c){this.nb=0.06;this.alpha=1;this.kb=0.1*Math.random();this.position={x:a.x||0,y:a.y||0};this.U={x:b.x||0,y:b.y||0};this.color=c;this.lastPosition={x:this.position.x,y:this.position.y}}function c(a){requestAnimationFrame(c);for(var b=0;b<g.length;b++)g[b](a);n+=(a-r-n)/j;r=a}for(var d=0,e=["ms","moz","webkit","o"],f=0;f<e.length&&!Z.requestAnimationFrame;++f)Z.requestAnimationFrame=Z[e[f]+"RequestAnimationFrame"],Z.cancelAnimationFrame=Z[e[f]+"CancelAnimationFrame"]||
Z[e[f]+"CancelRequestAnimationFrame"];Z.requestAnimationFrame||(Z.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-d)),e=Z.setTimeout(function(){a(b+c)},c);d=b+c;return e});Z.cancelAnimationFrame||(Z.cancelAnimationFrame=function(a){clearTimeout(a)});var g=[],h=[],j=20,n=0,r=0,G=a.pa.w(1E3).select(function(){return(1E3/n).toFixed()}).jb();b.prototype.update=function(){this.lastPosition.x=this.position.x;this.lastPosition.y=this.position.y;this.U.y+=this.nb;this.position.x+=
this.U.x;this.position.y+=this.U.y;this.alpha-=this.kb};b.prototype.postUpdate=aa();b.prototype.render=function(a){a.save();a.globalAlpha=this.alpha;a.strokeStyle=this.color;a.beginPath();a.moveTo(this.lastPosition.x,this.lastPosition.y);a.lineTo(this.position.x,this.position.y);a.stroke();a.restore()};return{registerAnimation:function(a){g.push(a)},start:function(){requestAnimationFrame(c)},onFpsUpdate:function(a){G.d(a)},Particle:b,addParticle:function(a){h.push(a)},removeParticle:function(a){h.splice(h.indexOf(a),
1)},renderParticles:function(a){for(var b=h.length;b--;){var c=h[b];c.update();c.postUpdate();c.render(a)}}}}"function"===typeof define&&define.amd?define("jsFrames",["rx.time"],function(a){return ic(a)}):Z.jsFrames=ic(Z.C);"function"===typeof define&&define.amd&&define("jsFrames.min",["jsFrames"],t());
