(function(){for(var c=0,a=["ms","moz","webkit","o"],b=0;b<a.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),d=Math.max(0,16-(b-c)),e=window.setTimeout(function(){a(b+d)},d);c=b+d;return e});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(b){clearTimeout(b)})})();window.jsFrames=function(c,a){function b(a){requestAnimationFrame(b);for(var c=0;c<f.length;c++)f[c](a);d+=(a-e-d)/g;e=a}var f=[],g=20,d=0,e=0,h=c.Observable.interval(1E3).select(function(){return(1E3/d).toFixed()}).distinctUntilChanged();a.registerAnimation=function(a){f.push(a)};a.start=function(){e=Date.now();b(e);return e};a.onFpsUpdate=function(a){h.subscribe(a)};return a}(window.Rx,window.jsFrames||{});
